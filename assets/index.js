function t(){let{pathname:e}=window.location;return e==="/"?"simonpedia":e?e.replace(/^\//,"").replace(/\.html$/,""):""}function n(e){return htmx.findAll("#list > ul > li").forEach(l=>htmx.removeClass(l,"active")),htmx.addClass(htmx.find(`#list > ul > li[data-key="${e}"]`),"active"),!0}function o(){return htmx.find("#list > ul > li.active").scrollIntoView({block:"center"}),!0}function r(){return htmx.toggleClass("aside","hidden"),!0}function a(){window.innerWidth<800&&r(),htmx.find("#search > input").value="",o()}function c(){document.title=htmx.find("article > h1").textContent||"",mermaid.run({querySelector:"article div.mermaid"}),n(t())}function d(){n(t()),o()}function i(){document.addEventListener("DOMContentLoaded",a),document.body.addEventListener("htmx:afterSwap",c),document.body.addEventListener("htmx:historyRestore",d)}self.pathname=t;self.select=n;self.scrollToActive=o;self.toggleSidebar=r;i();
